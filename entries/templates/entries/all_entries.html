<!--


 Search Form  
            <form method="get" class="mb-4" >
                <div class="input-group">
                    <input type="text" name="q" class="form-control" placeholder="Search for an entry">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-search me-2"></i>Search
                    </button>
                </div>
            </form>
            

    {% if entries %}
    <div class="list-group">
        {% for entry in entries %}
        <a href="{% url 'entries:view_entry' entry.id %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center py-3">
            <div>
                <h5 class="mb-1">{{ entry.title }}</h5>
                <small class="text-muted">{{ entry.created_at }}</small>
            </div>
            <i class="fas fa-chevron-right text-muted"></i>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info" role="alert">
        <i class="fas fa-info-circle me-2"></i>No entries found. Create your first entry!
    </div>
    {% endif %}
</div>

  Required CSS/JS (put in your base template)  
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
-->

<!--
w3.css
-->
<!DOCTYPE html>
<html>
<head>
    <title>ThoughtFlow - All Entries</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        /* Journal-themed styling */
        body {
            background: 
                url('https://images.unsplash.com/photo-1601662528567-526cd06f6582?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            min-height: 100vh;
            font-family: 'Crimson Text', serif;
            color: #3c2f23;
        }

        /* Journal paper effect for content */
        .journal-paper {
            background: rgba(249, 245, 237, 0.92);
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1), 0 0 2px rgba(0, 0, 0, 0.1) inset;
            position: relative;
            overflow: hidden;
        }

        .journal-paper::before {
            content: "";
            position: absolute;
            top: 0;
            left: 30px;
            height: 100%;
            width: 1px;
            background: rgba(180, 160, 120, 0.3);
        }

        /* Journal lines for entry items */
        .journal-lines {
            background-image: repeating-linear-gradient(
                transparent 0px,
                transparent 23px,
                rgba(180, 160, 120, 0.1) 23px,
                rgba(180, 160, 120, 0.1) 24px
            );
            padding-left: 50px !important;
        }

        /* Header styling */
        .journal-header {
            border-bottom: 1px solid #d9c7a6;
            padding-bottom: 15px;
            margin-bottom: 20px;
            position: relative;
        }

        .journal-header::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(to right, transparent 0%, #d9c7a6 20%, #d9c7a6 80%, transparent 100%);
        }

        /* Custom text colors */
        .text-primary {
            color: #8b5a2b !important;
        }

        .text-secondary {
            color: #6b4c2a !important;
        }

        /* Button styling */
        .journal-btn {
            background: rgba(222, 208, 182, 0.7);
            border: 1px solid #c5ab87;
            color: #5c4323;
            transition: all 0.3s;
            font-family: 'Crimson Pro', serif;
        }

        .journal-btn:hover {
            background: rgba(196, 177, 143, 0.8);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transform: translateY(-1px);
            color: #4a3519;
        }

        /* Search input */
        .journal-input {
            background: rgba(249, 245, 237, 0.7) !important;
            border: 1px solid #c5ab87 !important;
            font-family: 'Crimson Text', serif;
            color: #5c4323;
        }

        .journal-input::placeholder {
            color: #8b7d6b;
        }

        /* Entry items */
        .entry-item {
            border-bottom: 1px solid rgba(197, 171, 135, 0.3) !important;
            transition: all 0.2s;
            padding-left: 50px !important;
        }

        .entry-item:hover {
            background: rgba(222, 208, 182, 0.3) !important;
        }

        /* Decorative elements */
        .journal-date {
            font-style: italic;
            color: #8b7d6b;
        }

        .fa-book-open, .fa-sign-out-alt, .fa-plus, .fa-chevron-right, .fa-home, .fa-search, .fa-info-circle {
            color: #8b5a2b;
        }

        /* Decorative corner elements */
        .corner {
            position: absolute;
            width: 15px;
            height: 15px;
            border-color: #c5ab87;
            border-style: solid;
            border-width: 0;
        }

        .corner-tl {
            top: 10px;
            left: 10px;
            border-top-width: 1px;
            border-left-width: 1px;
        }

        .corner-tr {
            top: 10px;
            right: 10px;
            border-top-width: 1px;
            border-right-width: 1px;
        }

        .corner-bl {
            bottom: 10px;
            left: 10px;
            border-bottom-width: 1px;
            border-left-width: 1px;
        }

        .corner-br {
            bottom: 10px;
            right: 10px;
            border-bottom-width: 1px;
            border-right-width: 1px;
        }
        
        /* Custom header styling for "All Journal Entries" */
        .custom-header {
            background-color: #8b7d6b;
            color:  rgb(218, 183, 138);
            padding: 15px 20px;
            border-radius: 4px;
            margin-bottom: 20px;
            font-family: 'Crimson Pro', serif;
            font-weight: 600;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(139, 125, 107, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .custom-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(to right, #8b5a2b, #c5ab87, #8b5a2b);
        }
        
        .custom-header h2 {
            margin: 0;
            font-size: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .custom-header i {
            margin-right: 12px;
            font-size: 24px;
        }
        
        /* Separated button containers */
        .button-container {
            position: absolute;
            z-index: 10;
        }
        
        .left-button {
            top: 15px;
            left: 15px;
        }
        
        .right-button {
            top: 15px;
            right: 15px;
        }
        
        /* Responsive adjustments */
        @media (max-width: 600px) {
            .button-container {
                position: relative;
                top: auto;
                left: auto;
                right: auto;
                margin-bottom: 10px;
                text-align: center;
            }
            
            .custom-header h2 {
                margin-top: 45px;
            }
        }
    </style>
</head>
<body class="w3-padding-32">
    <div class="w3-container" style="max-width:800px; margin:auto;">
        <!-- Custom Header -->
        <div class="custom-header">
            <!-- Home Button (Left Corner) -->
            <div class="button-container left-button">
                <a href="{% url 'entries:home' %}" class="w3-button journal-btn w3-round">
                    <i class="fas fa-home w3-margin-right"></i>Home
                </a>
            </div>
            
            <!-- Header Title -->
            <h2><i class="fas fa-book"></i>All Journal Entries</h2>
            
            <!-- New Entry Button (Right Corner) -->
            <div class="button-container right-button">
                <a href="{% url 'entries:create_entry' %}" class="w3-button journal-btn w3-round">
                    <i class="fas fa-plus w3-margin-right"></i>New Entry
                </a>
            </div>
        </div>

        <!-- Search Form -->
        <form method="get" class="w3-margin-bottom">
            <div class="w3-row">
                <div class="w3-col s9 m10">
                    <input type="text" name="q" class="w3-input journal-input w3-round" 
                           placeholder="Search your journal entries..." style="height:42px;">
                </div>
                <div class="w3-col s3 m2">
                    <button type="submit" class="w3-button journal-btn w3-round" style="height:42px;width:100%;">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
        </form>

        <!-- Entries List -->
        {% if entries %}
        <div class="journal-paper">
            <div class="corner corner-tl"></div>
            <div class="corner corner-tr"></div>
            <div class="corner corner-bl"></div>
            <div class="corner corner-br"></div>
            
            <div class="w3-ul" style="margin:0;">
                {% for entry in entries %}
                <a href="{% url 'entries:view_entry' entry.id %}" 
                   class="entry-item w3-padding-16 journal-lines" 
                   style="display:block; text-decoration:none; color: inherit;">
                    <div class="w3-row">
                        <div class="w3-col s10">
                            <span class="w3-medium text-primary"><b>{{ entry.title }}</b></span><br>
                            <span class="w3-small journal-date">{{ entry.created_at }}</span>
                        </div>
                        <div class="w3-col s2 w3-center">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
        {% else %}
        <div class="journal-paper w3-padding-64 w3-center journal-lines">
            <div class="corner corner-tl"></div>
            <div class="corner corner-tr"></div>
            <div class="corner corner-bl"></div>
            <div class="corner corner-br"></div>
            
            <i class="fas fa-feather-alt" style="font-size:48px;"></i>
            <p class="w3-medium text-secondary">No entries found in your journal</p>
            <p class="w3-small journal-date">Begin your writing journey today</p>
            <a href="{% url 'entries:create_entry' %}" class="w3-button journal-btn w3-round" style="margin-top: 20px;">
                <i class="fas fa-plus w3-margin-right"></i>Create First Entry
            </a>
        </div>
        {% endif %}
    </div>
</body>
</html>
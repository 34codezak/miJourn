<!-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Entry</title>
    <!-- Bootstrap 5 CSS  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .entry-form-container {
            max-width: 600px;
            margin: 0 auto;
        }
        .form-header {
            background-color: #0d6efd;
            color: white;
            border-radius: 0.375rem 0.375rem 0 0;
        }
        .form-card {
            border-radius: 0.375rem;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
    </style>
</head>
<body>
    <div class="container py-5">
        <div class="entry-form-container">
            <div class="card form-card mb-4">
                <div class="card-header form-header py-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <h1 class="h4 mb-0">
                            <i class="fas fa-plus-circle me-2"></i>New Entry
                        </h1>
                        <a href="{% url 'entries:home' %}" class="btn btn-light btn-sm">
                            <i class="fas fa-home me-1"></i> Home
                        </a>
                    </div>
                </div>
                <div class="card-body p-4">
                    <form method="post" class="needs-validation" novalidate>
                        {% csrf_token %}
                        
                        {% for field in form %}
                        <div class="mb-3">
                            <label for="{{ field.id_for_label }}" class="form-label fw-bold">
                                {{ field.label }}
                            </label>
                            {{ field }}
                            {% if field.help_text %}
                            <div class="form-text">{{ field.help_text }}</div>
                            {% endif %}
                            {% for error in field.errors %}
                            <div class="invalid-feedback d-block">
                                {{ error }}
                            </div>
                            {% endfor %}
                        </div>
                        {% endfor %}
                        
                        <div class="d-flex justify-content-end mt-4">
                            <a href="{% url 'entries:view_all_entries' %}" class="btn btn-outline-secondary me-2">
                                <i class="fas fa-times me-1"></i> Cancel
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-1"></i> Save Entry
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle with Popper  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Form Validation Script  
    <script>
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
    })()
    </script>
</body>
</html>
-->

<!--
w3.css
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Entry | ThoughtFlow</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        /* Journal-themed styling */
        body {
            background: 
                url('https://images.unsplash.com/photo-1601662528567-526cd06f6582?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            min-height: 100vh;
            font-family: 'Crimson Text', serif;
            color: #3c2f23;
        }

        /* Journal paper effect for content */
        .journal-paper {
            background: rgba(249, 245, 237, 0.95);
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1), 0 0 2px rgba(0, 0, 0, 0.1) inset;
            position: relative;
            overflow: hidden;
        }

        .journal-paper::before {
            content: "";
            position: absolute;
            top: 0;
            left: 30px;
            height: 100%;
            width: 1px;
            background: rgba(180, 160, 120, 0.3);
        }

        /* Journal lines for text areas */
        .journal-lines {
            background-image: repeating-linear-gradient(
                transparent 0px,
                transparent 23px,
                rgba(180, 160, 120, 0.1) 23px,
                rgba(180, 160, 120, 0.1) 24px
            );
            padding-left: 50px !important;
            font-family: 'Crimson Text', serif;
            line-height: 24px;
        }

        /* Header styling */
        .journal-header {
            background: rgba(139, 90, 43, 0.9) !important;
            color: #f9f5ed !important;
            border-bottom: 2px solid #c5ab87;
            font-family: 'Crimson Pro', serif;
        }

        /* Custom text colors */
        .text-primary {
            color: #8b5a2b !important;
        }

        .text-secondary {
            color: #6b4c2a !important;
        }

        /* Button styling */
        .journal-btn {
            background: rgba(222, 208, 182, 0.7);
            border: 1px solid #c5ab87;
            color: #5c4323;
            transition: all 0.3s;
            font-family: 'Crimson Pro', serif;
        }

        .journal-btn:hover {
            background: rgba(196, 177, 143, 0.8);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transform: translateY(-1px);
            color: #4a3519;
        }

        .journal-btn-primary {
            background: rgba(139, 90, 43, 0.9);
            color: #f9f5ed;
            border: 1px solid #6b4c2a;
        }

        .journal-btn-primary:hover {
            background: rgba(107, 76, 42, 0.95);
            color: white;
        }

        /* Input styling */
        .journal-input {
            background: rgba(249, 245, 237, 0.7) !important;
            border: 1px solid #c5ab87 !important;
            font-family: 'Crimson Text', serif;
            color: #5c4323;
            border-radius: 4px !important;
        }

        .journal-input:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(139, 90, 43, 0.3);
        }

        textarea.journal-input {
            min-height: 200px;
            line-height: 24px;
        }

        /* Label styling */
        .journal-label {
            font-family: 'Crimson Pro', serif;
            font-weight: 600;
        }

        /* Help text styling */
        .journal-help {
            color: #8b7d6b !important;
            font-style: italic;
            font-size: 0.9em;
        }

        /* Error text styling */
        .journal-error {
            color: #a52a2a !important;
            font-style: italic;
        }

        /* Decorative corner elements */
        .corner {
            position: absolute;
            width: 15px;
            height: 15px;
            border-color: #c5ab87;
            border-style: solid;
            border-width: 0;
        }

        .corner-tl {
            top: 10px;
            left: 10px;
            border-top-width: 1px;
            border-left-width: 1px;
        }

        .corner-tr {
            top: 10px;
            right: 10px;
            border-top-width: 1px;
            border-right-width: 1px;
        }

        .corner-bl {
            bottom: 10px;
            left: 10px;
            border-bottom-width: 1px;
            border-left-width: 1px;
        }

        .corner-br {
            bottom: 10px;
            right: 10px;
            border-bottom-width: 1px;
            border-right-width: 1px;
        }

        /* Icons */
        .fa-home, .fa-times, .fa-save, .fa-plus-circle {
            color: #f9f5ed;
        }
    </style>
</head>
<body class="w3-padding-32">
    <div class="w3-container" style="max-width:600px; margin:auto;">
        <div class="journal-paper">
            <div class="corner corner-tl"></div>
            <div class="corner corner-tr"></div>
            <div class="corner corner-bl"></div>
            <div class="corner corner-br"></div>
            
            <!-- Form Header -->
            <div class="w3-padding journal-header">
                <div class="w3-row">
                    <div class="w3-col s10 m10">
                        <h2 class="w3-medium"><i class="fas fa-feather w3-margin-right"></i>New Journal Entry</h2>
                    </div>
                    <div class="w3-col s2 m2 w3-right-align">
                        <a href="{% url 'entries:home' %}" class="w3-button journal-btn w3-round">
                            <i class="fas fa-home"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Form Body -->
            <div class="w3-padding">
                <form method="post" class="w3-container">
                    {% csrf_token %}
                    
                    {% for field in form %}
                    <div class="w3-margin-bottom">
                        <label class="w3-text-primary journal-label">{{ field.label }}</label>
                        {% if field.name == 'content' %}
                            {{ field }}
                        {% else %}
                            {{ field }}
                        {% endif %}
                        {% if field.help_text %}
                        <span class="w3-small journal-help">{{ field.help_text }}</span>
                        {% endif %}
                        {% for error in field.errors %}
                        <div class="w3-small journal-error">{{ error }}</div>
                        {% endfor %}
                    </div>
                    {% endfor %}
                    
                    <div class="w3-row w3-margin-top">
                        <div class="w3-col s6 w3-left-align">
                            <a href="{% url 'entries:view_all_entries' %}" class="w3-button journal-btn w3-round">
                                <i class="fas fa-times w3-margin-right"></i>Cancel
                            </a>
                        </div>
                        <div class="w3-col s6 w3-right-align">
                            <button type="submit" class="w3-button journal-btn journal-btn-primary w3-round">
                                <i class="fas fa-save w3-margin-right"></i>Save Entry
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Form Validation Script -->
    <script>
    (function () {
        'use strict'
        var forms = document.querySelectorAll('form')
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                }, false)
            })
    })()
    </script>

    <!-- Add journal lines to content textarea -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const contentTextarea = document.querySelector('textarea');
            if (contentTextarea) {
                contentTextarea.classList.add('journal-lines');
            }
            
            // Add journal styling to all input fields
            const inputFields = document.querySelectorAll('input[type="text"], input[type="password"]');
            inputFields.forEach(input => {
                input.classList.add('journal-input');
            });
        });
    </script>
</body>
</html>